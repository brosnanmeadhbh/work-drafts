function [crit,clustSize]=randClustPerm45(n)
clustSize=zeros(1,n)
for permi=1:n
    if exist('TTnew+tlrc.BRIK','file')
        !rm TTnew+tlrc*
    end
    r=rand(1,9);
    [~,ri]=sort(r);
    rnd1=ones(1,9);
    rnd1(ri(1:4))=2;
    rnd2=rnd1*-1+3;


command = ['~/abin/3dttest++ -paired -no1sam -mask ~/SAM_BIU/docs/MASK+tlrc ',...
        '-setA V1 ',...
        'sub05v1 quad050',num2str(rnd1(1)),'/alpha2+tlrc ',...
        'sub06v1 quad060',num2str(rnd1(2)),'/alpha2+tlrc ',...
        'sub07v1 quad070',num2str(rnd1(3)),'/alpha2+tlrc ',...
        'sub09v1 quad090',num2str(rnd1(4)),'/alpha2+tlrc ',...
        'sub10v1 quad100',num2str(rnd1(5)),'/alpha2+tlrc ',...
        'sub14v1 quad140',num2str(rnd1(6)),'/alpha2+tlrc ',...
        'sub15v1 quad150',num2str(rnd1(7)),'/alpha2+tlrc ',...
        'sub16v1 quad160',num2str(rnd1(8)),'/alpha2+tlrc ',...
        'sub18v1 quad180',num2str(rnd1(9)),'/alpha2+tlrc ',...
        '-setB V2 ',...
        'sub05v2 quad050',num2str(rnd2(1)),'/alpha2+tlrc ',...
        'sub06v2 quad060',num2str(rnd2(2)),'/alpha2+tlrc ',...
        'sub07v2 quad070',num2str(rnd2(3)),'/alpha2+tlrc ',...
        'sub09v2 quad090',num2str(rnd2(4)),'/alpha2+tlrc ',...
        'sub10v2 quad100',num2str(rnd2(5)),'/alpha2+tlrc ',...
        'sub14v2 quad140',num2str(rnd2(6)),'/alpha2+tlrc ',...
        'sub15v2 quad150',num2str(rnd2(7)),'/alpha2+tlrc ',...
        'sub16v2 quad160',num2str(rnd2(8)),'/alpha2+tlrc ',...
        'sub18v2 quad180',num2str(rnd2(9)),'/alpha2+tlrc'];
    [~, ~] = unix(command);

    % !~/abin/3dExtrema -volume -closure -data_thr 3 TTnew+tlrc[1]
    % !~/abin/3dExtrema -volume -closure -data_thr 3 -minima TTnew+tlrc[1]
    % !~/abin/3dExtrema -volume -closure -data_thr 3 -minima -output min TTnew+tlrc[1]
    
    !~/abin/3dclust -quiet -noabs -1clip 3  5 125 TTnew+tlrc'[1]' > clust.txt
    clust=importdata('clust.txt');
    if iscell(clust)
        clustSize(permi,1)=0;
    else
        clustSize(permi,1)=clust(1);
    end
    
end
clustSize=clustSize/125;
clustSize=sort(clustSize,'descend');
crit=clustSize(ceil(0.05*n));
command = ['~/abin/3dttest++ -paired -prefix tV1V2 -no1sam -mask ~/SAM_BIU/docs/MASK+tlrc ',...
    '-setA V1 ',...
    'sub05v1 quad0501/alpha2+tlrc ',...
    'sub06v1 quad0601/alpha2+tlrc ',...
    'sub07v1 quad0701/alpha2+tlrc ',...
    'sub09v1 quad0901/alpha2+tlrc ',...
    'sub10v1 quad1001/alpha2+tlrc ',...
    'sub14v1 quad1401/alpha2+tlrc ',...
    'sub15v1 quad1501/alpha2+tlrc ',...
    'sub16v1 quad1601/alpha2+tlrc ',...
    'sub18v1 quad1801/alpha2+tlrc ',...
    '-setB V2 ',...
    'sub05v2 quad0502/alpha2+tlrc ',...
    'sub06v2 quad0602/alpha2+tlrc ',...
    'sub07v2 quad0702/alpha2+tlrc ',...
    'sub09v2 quad0902/alpha2+tlrc ',...
    'sub10v2 quad1002/alpha2+tlrc ',...
    'sub14v2 quad1402/alpha2+tlrc ',...
    'sub15v2 quad1502/alpha2+tlrc ',...
    'sub16v2 quad1602/alpha2+tlrc ',...
    'sub18v2 quad1802/alpha2+tlrc'];
[~, ~] = unix(command);


